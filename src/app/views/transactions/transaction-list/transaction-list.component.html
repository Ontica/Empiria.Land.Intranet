<div class="card card-border">

  <div class="card-header card-header-flat">

    <div *ngIf="transactionList.length > 0"
      style="margin: auto; padding: 0 20px 0 4px;">
      <emp-ng-check-box-all
        [(selection)]="selection"
        [values]="transactionList">
      </emp-ng-check-box-all>
    </div>

    <div class="card-title">
      {{title}}
      <div class="card-hint" empNgProgressText
           loadingText="Cargando tr치mites"
           [finalText]="selection.hasValue() ?
              selection.selected.length + ' de ' + transactionList.length + ' tr치mites seleccionados':
              transactionList.length + ' tr치mites encontrados'"
           [isLoading]="isLoading"></div>

    </div>

    <div class="card-header-options">
        <div style="width:32px"></div>

        <input type="search" class="text-box" style="width:auto" fxHide.lt-sm="true"
               placeholder="Buscar tr치mites"
               (search)="onChangeFilter()" [(ngModel)]="keywords">
        &nbsp; &nbsp; &nbsp;
        <button class="btn-action"
                (click)="onClickCreateTransaction()">Nuevo</button>

    </div>

  </div>

  <div class="card-body" [empNgSpinnerHost]="spinner">
    <emp-ng-spinner #spinner [visible]="isLoading"></emp-ng-spinner>

    <div *ngFor="let transaction of transactionList"
          class="list-item" matRipple [matRippleTrigger]="trigger"
          [class.list-item-selected]="isSelected(transaction)">

      <div class="list-item-checkbox">
        <mat-checkbox
          [checked]="selection.isSelected(transaction)"
          (click)="$event.stopPropagation()"
          (change)="selection.isSelected(transaction) ?
                    selection.deselect(transaction) :
                    selection.select(transaction)">
        </mat-checkbox>
      </div>

      <div class="list-item-container">

        <div class="list-item-name">
          <strong><a #trigger
              (click)="onSelectTransaction(transaction)">{{transaction.requestedBy}}</a></strong>
        </div>

        <emp-land-transaction-list-item
          [transaction]="transaction"
          (optionsClick)="onClickTransactionOptions(transaction)">
        </emp-land-transaction-list-item>

      </div>

    </div>

  </div>

</div>
